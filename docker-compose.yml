  version: '3.9'
  
  services:
    backend:
      build: ./Backend
      ports:
        - "5000:80"
      depends_on:
        - mongo_users
      restart: always
      environment:
        MONGO_URI: "mongodb://root:root@mongo_users:27017"
        USERNAME: "user"
        PASSWORD: "password123"
  
    mongo_users:
      image: mongo:latest
      environment:
        MONGO_INITDB_ROOT_USERNAME: root
        MONGO_INITDB_ROOT_PASSWORD: root
        MONGO_INITDB_DATABASE: usersdb
      expose:
        - "27017"
      restart: always
      volumes:
        - mongo_users:/data/db
    pwa:
      build: ./react-pwa
      ports:
        - "80:80"
      restart: always